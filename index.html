<!DOCTYPE html>
<html>
	<head>
		<title>Test Site</title>
		<link rel="stylesheet" href="index.css">
	</head>
	<body>
		<h1 id="merd" style="display: none;">MERDEKA!</h1>
		<br><br>
		<p id="logger"></p>
		<!--<img src="https://upload.wikimedia.org/wikipedia/commons/6/66/Flag_of_Malaysia.svg" class="mflag">
		-->
		<script>
			var amt = 0;
			var originLogs = 0;
			var logs = [];
			var logging = true;
			logs.push(`[${new Date().toString()}] Booted webpage.`);
			logs.push(`[${new Date().toString()}] Origin amt: ${amt}`);
			logs.push(`[${new Date().toString()}] Logging: ${logging}`);
			/*for(amt = 0; amt < 3; amt++) {
				document.getElementById('merd').style.display = "block";
				logs.push(`[${new Date().toString()}] Set style display of "merd" to "block"`);
				//amt++;
				logs.push(`[${new Date().toString()}] Set variable "amt" to "${amt}"`);
				setTimeout(function() {
					document.getElementById('merd').style.display = "none";
					logs.push(`[${new Date().toString()}] Set style display of "merd" to "none"`);
				}, 2000);
			}*/
			setInterval(function(crx) {
				if(logging == true) {
					document.getElementById('logger').innerHTML = logs.join('<br>');
				}
				if(originLogs == logs.length) return;
				console.log(logs[logs.length - 1]);
				originLogs++;
			}, 1);
			
			const ctr = setInterval(function(cr) {
				logs.push(`[${new Date().toString()}] Interval started!`);
				if(amt < 3) {
					//var curTime = new Date().toString();
					document.getElementById('merd').style.display = "block";
					logs.push(`[${new Date().toString()}] Set style display of "merd" to "block"`);
					amt++;
					logs.push(`[${new Date().toString()}] Set variable "amt" to "${amt}"`);
					setTimeout(function() {
						document.getElementById('merd').style.display = "none";
						logs.push(`[${new Date().toString()}] Set style display of "merd" to "none"`);
					}, 2000);
				} else {
					logs.push(`[${new Date().toString()}] Variable "amt" is above "3", returned!`);
					return vtr();
				};
			}, 3000);
			function vtr() {
				logs.push(`[${new Date().toString()}] Cleared interval ctr!`);
				clearInterval(ctr);
			}
		</script>
	</body>
</html>